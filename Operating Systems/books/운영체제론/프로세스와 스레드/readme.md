# 프로세스 개념

## 3.1 소개


이장에서는 프로세스의 개념을 정식으로 살펴본다. 프로세스는 오늘날 컴퓨터 시스템의 동작 원리와 동시에 수행되는 많은 활동을 관리하는 방법을 이해하는데 필요한 핵심 개념이다. 먼저 더 일반적인 프로세스 개념을 소개하고 자세한 프로세스 상태와 이 프로세스들이 상태 변화를 일으키는 방법과 그 이유에 대해 살펴본다. 또한 프로세스를 생성에서부터 종료 일시정지 재시작 깨우기 등 운영체제가 프로세스를 서비스할 때 수행하는 다양한 연산을 논의한다.

### 3.1.1 프로세스 정의

운영체제 문맥에서 프로세스는 60년대 멀틱스 설계자들이 처음 사용하기 시작했다. 그 이후로 프로세스를 어느 정도 작업과 바꿔 쓸 수 있는 용어처럼 여기게되고, 이외에도 여러 정의가 생겼다. 예를 들면 실행중인 프로그램, 비동기 활동, 프로시저에 생명을 불어 넣는것, 실행중이 ㄴ프로시저의 통제소재라고도한다. 한편 운영체제에 있는 프로세스 기술자 또는 프로세스 제어블록이라는 자료구조로 정의되는 것이라고도 한다. 

또한 프로세서가 할당되는 개체, 디스패치 가능한 단위로 지칭하기도 한다. 프로그램이 낱장 악보들이라면, 프로세스는 음악을 연주하는 심포니 오케스트라에 비유할 수 있다. 

프로세스는 개체라는 것이다. 각 프로세스는 자신의 주소 공간을 가지고있다. 주소공간은 대개 텍스트영역, 데이터영역, 스택영역으로구분된다. 텍스트 영역은 프로세서가 실행하는 코드를 저장하는 영역이다. 데이터영역은 변수들을 저장하는 영역과 프로세스가 실행중에 사용하려고 동적으로 할당받은 메모리 공간이다. 스택영역은 호출된 프로시저용으로 지역변수와 명령어들을 저장하는 공간이다. 스택의 내용은 프로세스가 중첩되게 프로시저 호출을 할 수록 증가하고, 호출된 프로시저가 수행을 마치고 반환할 때마다 줄어든다. 두번째로, 프로세스는 실행중인 프로그램이다. 프로그램은 살아있는 개체가 아니다. 프로세서가 프로그램에 생명을 불어넣을 때야 비로소 프로세스라는 활성 개체가 된다.

## 3.2 프로세스 상태 프로세스 생명 주기

운영체제는 각 프로세스가 충분한 프로세서 시간을 할당받을 수 있게 해야한다. 어떤 시스템이든 동시에 실행되는 프로그램이 프로세서 수만큼 존재할 수 있다. 하지만 보통 시스템이는 프로세서 수보다 훨씬 많은 프로세스가 있다. 그러므로 임의의 특정 시간을 두고 볼 때 몇몇 프로세스는 실행되고 몇몇은 실해오디지 못한다. 

프로세스 생명 주기 동안 구분된 프로세스 상태들을 거친다. 다양한 이벤트를 만날 때, 프로세스의 상태가 바뀐다. 프로세스가 프로세서에서 실행되고 있으면 실행중이라고한다. 프로ㅔㅅ스가 프로세서에서 실행 가능하면 준비되었다고 한다. 또한 프로세스가 작업을 진행하기에 앞서 입출력 완료 이벤트등의 특정 이벤트 발생을 대기하고 있다면 블록되었다고 한다.


## 3.3 프로세스 관리

운영체제는 프로세스들의 실행 사이에 끼어들면서 프로세스들이 인터럽트 되고 재시작하거나 프로세스 실행완료를 알리는 등 단순한 일을 위해서도 운영체제와 통신할 수 있어야한다. 


### 3.3.1 프로세스 상태와 상태전이

준비리스트에 있는 첫 번째 프로세스에서 프로세서를 할당하는 것을 디스패칭이라고 한다. 디스패처라는 시스템 개체가 이일을 수행한다. 준비상태 또는 실행상태에 있는 프로세스를 깨어있다라고 한다. 프로세서를 차지하려고 활발히 경쟁하는 상태기 때문이다. 운영체제는 시스템에있는 프로세스들을 가장 잘 서비스 할 수 있게 프로세스들의 상태전이르 ㄹ관리한다. 운영체제는 한 프로세스가 우연이든 고의든 시스템의 프로ㅔㅅ서를 독점하는 일을 방지하려고 하드웨어 인터럽팅 클록을 두어, 프로세스가 특정시간 간격 또는 퀀텀 동안 일을 수행할 수 있게한다. 프로세스가 시간이 만료되기 전에 프로세서를 자발적으로 반납하지 않으면, 인터럽팅 클록이 인터럽트를 발생시키며 프로세서에 대한 제어를 운영체제가 갖는다. 그리고 운영체제는 이전에 실행하던 프로세스의 상태를 준비 상태로 바꾸고 , 준비리스트에 있는 맨 처음 프로세스의 상태를 준비상태에서 실행 상태로 바꾼다. 실행 상태에 있는 프로세스가 자신에 주어진 만료 시간 전에 출력 작업을 시작하고, 프로세서를 다시 사용하기 전에 입출력이 완료되기를 대기해야한다면, 자발적으로 프로세서를 반납한다. 

프로세스가 프로세서를 할당받으면 프로세스의 상태가 준비상태에서 실행상태로 변한다. 프로세스가 할당받은 시간이 만료되면 실행상태에서 준비상태로 변한다. 프로세스가 블록되면 실행상태에서 블록상태로 변한다. 마지막으로 대기하던 이벤트가 완료되면 프로세스가 깨어나고 블록상태에서 준비상태로 변한다. 사용자 프로세스가 스스로 일으키는 상태 전이는 블록 상태 뿐이다. 다른 세가지 상태 전이는 운영체제가 일으킨다.

### 3.3.2 프로세스 제어 블록 프로세스 기술자

