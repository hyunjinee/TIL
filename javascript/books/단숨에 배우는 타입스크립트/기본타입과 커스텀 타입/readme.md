## 2.1 변수 타입 선언

강제적인 타입 선언이 귀찮게 느껴질짇 모르겠지만 장기적인 관점에서 볼 때 생산성이 눈에 띌 정도로 향상된다는 사실을 알 수 있다.

타입스크립트에는 다음과 같은 타입 표기가 있습니다. 대부분 타입은 자기 기술적인 이름을 가지고 있으며 주요 타입은 아래와 같습니다.

- string
- boolean
- number
- symbol - Symbol 생성자를 호출해 생성된 고유값
- any : 모든 타입을 허용하는 타입 , 코드를 쓰는 동안 정해지지 않은 변수를 지정할 수 있음
- unknown: any와 비슷하나 먼저 타입을 지정하거나 좁히지 않으면 조작이 허용되지 않음
- never: 도달할 수 없는 코드를 나타냄
- void: 값이 없음

```typescript
const ord = Symbol("orderID")
const myOrder = {
  ord: "123",
}
```

타입스크립트 역시 자바스크립트에서 값이 없음을 나태내는 null 값과 undefined 타입을 가집니다. 값이 할당되지 않은 변수는 초기값으로 undefined를 가지며 그 자체로 undefined 타입입니다. 값을 반환하지 않는 함수 역시 undefined 를 반환합니다. 반면 null은 명시적으로 값이 비어있음을 나타내며 객체입니다.

any 타입은 타입체크의 장점을 잃고 코드 가독성도 떨어지기 때문에 되도록이면 사용하지 않는 것이 좋다.

never 타입은 절대 반환을 하지 않는 함수에 사용합니다. 절대로 실행이 종료되지 않는 함수나 오류를 발생시키기 위해서만 존재하는 함수를 예로 들 수 있습니다.

```typescript
const logger = () => {
  while (true) {
    console.log("서버가 실행 중 입니다.")
  }
}
```

위 코드에서 logger의 타입은 never입니다.

런타입 중에 함수 본문에 리턴문이 없는 경우에는 undefined 를 반환합니다. 그러나 void타입을 사용하면 이와 같은 실수를 방지 할 수 있습니다.

타입스크립트 컴파일러가 유추 가능한 곳에 명시적으로 타입을 추가하는 것을 피해야한다.

초기값 없이 변수를 선언하면 타입스크립트 컴파일러는 any 타입으로 유추합니다. 이처럼 컴파일러가 변수 타입을 유추하는 것을 타입 확장 type widening 이라고 부릅니다.

--strictNullCheck 옵션은 undefined 값을 잡는데 도움이 됩니다.

타입스크립트 함수와 함수 표현식은 자바스크립트와 유사하지만 파라미터 타입과 반환 값을 명시적으로 선언합니다. 먼저 타입이 없는 자바스크립트 함수를 작성해보겠습니다.

```typescript
function calcTax(state, income, dependents) {
  if (state == "NY") return income * 0.06 - dependants * 500
}
```

만약 우리가 타입을 틀리게 추축해서 dependents 값에 문자열을 준다면?

```typescript
let tax = calcTax("NJ", 50000, "two") // NaN
```

함수가 호출되기 전까지 위 코드가 문제 있음을 알 수 없다. 이제 타입을 추가한다면 파라미터를 다르게 전달할 일은 없을 것이다.

리턴문이 없으면 undefined 를 반환한다.

### 2.1.3 유니온 타입

유니온 타입은 OR연산자 처럼 변수에 지정할 수 있는 탕비이 여러개일 경우 사용합니다.

> 타입 가드

타입가드 in은 타입 범위를 축소하는 표현입니다. 예를 들어 유니온 타입인자를 가진 함수는 호출하는 동안 실제 값을 체크할 수 있을 것입니다. 아래 코드를 보면 서로 다른 프로퍼티를 가진 두 인터페이스가 있습니다. foo() 함수는 a또는 b프로퍼티를 가집니다. 타입가드 in은 foo()함수 본문에서 반환전 특정 프로퍼티가 파라미터 객체에 포함되어 있는지를 확인합니다.

```typescript
interface A {
  a: number
}
interface B {
  b: string
}

function foo(x: A | B) {
  if ("a" in x) {
    return x.a
  } else {
    return x.b
  }
}
```

x라는 객체에 a라는 키가 있으면..

요약

- 개발자들에게 변수 타입 선언을 강제하면 해야할 일이 더 많아져도 장기적으로 개발 생산성이 눈에 띄게 높아질 것입니다.

- 타입스크립트는 많은 타입을 지원하지만 커스텀 타입도 필요한 만큼 선언할 수 있습니다.

- 이미 선언된 타입들로 유니온을 선언해 새로운 타입을 만들 수 있습니다.

- type, interface, class 연산자를 사용해 새로운 타입을 선언할 수 있습니다.

- 타입 스크립트는 자바나 C# 등 명목적 타입 시스템을 사용하는 언어와 다르게 구조적 타입시스템을 사용합니다.
