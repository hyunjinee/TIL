# Map & Set

Es6에서 맵과 셋이 도입되었다. 맵은 키와 값을 연결한다는 점에서 객체와 비슷하고, 셋은 중복을 허용하지 않는다는 점만 제외하면 배열과 비슷하다.

## 10.1 map

ES6 이전에 키와 값을 연결하려면 객체를 사용해야했다. 하지만 객체를 이런목적으로 사용한다면 여러가지 단점이 생긴다.

- 프로토타입 체인 때문에 의도하지 않은 연결이 생길 수 있다.
- 객체 안에 연결된 키와 값이 몇개나 되는지 쉽게 알아낼 수 있는 방법이 없다.
- 키는 반드시 문자열이나 심볼이어야 하므로 객체를 키로 써서 값과 연결할 수 없다.
- 객체는 프로퍼티 순서를 보장하지 않는다.

Map객체는 이들 결함을 모두 해결했고, 키와 값을 연결할 목적이라면 (문자열만 키로쓴다해도) 객체보다 나은 선택이다.

## 10.2 WeakMap

WeakMap은 다음 차이점을 제외하면 Map과 같다.

- 키는 반드시 객체이다.
- WeakMap의 키는 가비지 컬렉션에 포함 될 수 있다.
- WeakMAp은 이터러블이 아니며 clear() 메서드도 없다.
  일반적으로 자바스크립트는 코드어딘가에서 그 객체를 참조하는 한 그 객체를 메모리에 계속 유지한다. 예를 들어 Map의 키인 객체 o 가 있다면, 자바스크립트는 Map이 존재하는 한 o를 메모리에 계속 유지한다. WeakMap은 그렇지 않다. WeakMap은 따라서 이터러블이 될 수 없다. 가비지 콜렉션중인 객체를 노출할 위험이 너무크기 때문이다.

## 10.3 셋

셋은 중복을 허용하지 않는 데이터 집합이다.

## 10.4 위크셋

위크셋은 객체만 포함할 수 있으며, 이 객체들은 카비지 콜렉션의 대상이 된다. WeapMap과 마찬가지로 위크셋도 이터러블이 아니므로 위크셋의 용도는 매우 적다. 위크셋의 실제용도는 주어진 객체가 셋안에 존재하는지 아닌지를 알아보는 것뿐이라고 해도 과언이 아니다.
